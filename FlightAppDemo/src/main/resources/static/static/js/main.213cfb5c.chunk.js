(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,a){e.exports=a(17)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(2),r=a.n(c);a(12),a(13),a(14);var o=function(e){let{onSeatSelect:t,flightID:a}=e;const[c,r]=Object(n.useState)(null),[o,s]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const t=await fetch("http://localhost:8080/FlightApp/Seat/GetAllTakenOrNot/ByFlightID/".concat(a),{method:"GET",headers:{"Content-Type":"application/json"}}),n=await t.json();s(n)}catch(e){console.error("Error fetching taken seats:",e)}})()},[a]);const i=e=>o[e],u=(e,a,n)=>{i(5*a+n)||(c&&c.section===e&&c.row===a&&c.seat===n?(r(null),t(null,null,null)):(r({section:e,row:a,seat:n}),t(e,a,n)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("p",null,"Pink: Comfort"),l.a.createElement("p",null,"Orange: Business"),l.a.createElement("p",null,"Grey: Economy")),l.a.createElement("div",{className:"seat-selection"},(()=>{const e=[];for(let t=0;t<1;t++){const a=[];for(let e=0;e<3;e++){const n=[];for(let a=0;a<5;a++){const r=a+1,o=c&&c.section===t&&c.row===e&&c.seat===a,s=i(5*e+a);n.push(l.a.createElement("button",{key:"seat-".concat(t,"-").concat(e,"-").concat(a),onClick:()=>u(t,e,a),className:"seat ".concat(o?"selected":""),disabled:s},"S".concat(t+1,"-R").concat(e+1,"-Seat").concat(r)))}a.push(l.a.createElement("div",{key:"row-".concat(t,"-").concat(e),className:"seat-row"},n))}e.push(l.a.createElement("div",{key:"section-".concat(t),className:"section"},l.a.createElement("h2",null,"Seat Map"),l.a.createElement("div",{className:"seat-map"},a)))}return e})(),c&&l.a.createElement("button",{className:"continue-button",onClick:()=>{t(c.section,c.row,c.seat,!0),console.log(c.row),console.log(c.seat),console.log(a);const e=15*(a-1)+5*c.row+(c.seat+1);console.log(e),fetch("http://localhost:8080/FlightApp/Seat/SeatTaken/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"}})}},"Continue")))};a(15);var s=function(e){let{onInsuranceSubmit:t,setInsurance:a}=e;return l.a.createElement("div",null,l.a.createElement("div",{className:"flex-container"},l.a.createElement("div",{className:"insurance-container"},l.a.createElement("h2",null,"Purchase an Insurance Plan"),l.a.createElement("br",null),l.a.createElement("div",null,"- Cancel for no additional fees",l.a.createElement("br",null),"- 1 free checked bag",l.a.createElement("br",null),"- Full refund upon cancellation",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:()=>{a(!0),t()}},"Select")))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:()=>{t()}},"Skip Insurance and Pay"))};a(16);var i=function(e){let{onPaymentSubmit:t}=e;const[a,c]=Object(n.useState)(""),[r,o]=Object(n.useState)(""),[s,i]=Object(n.useState)(""),[u,m]=Object(n.useState)("");return l.a.createElement("div",{className:"payment-form"},l.a.createElement("h2",null,"Payment Details"),l.a.createElement("form",{onSubmit:e=>{e.preventDefault(),t({cardNumber:a,expiryDate:r+"/"+s,cvv:u})}},l.a.createElement("label",{htmlFor:"cardNumber"},"Card Number"),l.a.createElement("input",{type:"text",id:"cardNumber",value:a,onChange:e=>c(e.target.value)}),l.a.createElement("div",{className:"expiry-fields"},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"expiryMonth"},"Expiry Month"),l.a.createElement("input",{type:"text",id:"expiryMonth",value:r,onChange:e=>o(e.target.value),maxLength:"2",placeholder:"MM"})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"expiryYear"},"Expiry Year"),l.a.createElement("input",{type:"text",id:"expiryYear",value:s,onChange:e=>i(e.target.value),maxLength:"4",placeholder:"YYYY"}))),l.a.createElement("label",{htmlFor:"cvv"},"CVV"),l.a.createElement("input",{type:"text",id:"cvv",value:u,onChange:e=>m(e.target.value)}),l.a.createElement("button",{type:"submit"},"Submit Payment")))};var u=function(){const[e,t]=Object(n.useState)(null),[a,c]=Object(n.useState)(!1),[r,u]=Object(n.useState)(""),[m,p]=Object(n.useState)(""),[d,E]=Object(n.useState)(null),[h,g]=Object(n.useState)(!1),[b,v]=Object(n.useState)(""),[y,S]=Object(n.useState)(""),[C,f]=Object(n.useState)(!1),[k,N]=Object(n.useState)(!1),[O,j]=Object(n.useState)(!1),[w,F]=Object(n.useState)([]),[x,T]=Object(n.useState)(""),[P,D]=Object(n.useState)([]),[A,I]=Object(n.useState)(!1),[G,L]=Object(n.useState)(0),[M,q]=Object(n.useState)(""),[B,Y]=Object(n.useState)(""),[R,U]=Object(n.useState)(""),[J,H]=Object(n.useState)(""),[V,_]=Object(n.useState)(""),[$,z]=Object(n.useState)(""),[K,Q]=Object(n.useState)(""),[W,X]=Object(n.useState)(""),[Z,ee]=Object(n.useState)(""),[te,ae]=Object(n.useState)(!1),ne=[...new Set(w)],le=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,ce=e=>{const a=e.toLowerCase();t(a),"member"===a?(c(!0),g(!1)):"guest"===a?(g(!0),c(!1),t("purchase ticket")):"purchase ticket"===a?(g(!0),c(!1)):"cancel ticket"===a?(g(!1),c(!1),t(a)):"third option"===a&&t("signup"),re()};Object(n.useEffect)(()=>{re()},[]);const re=async()=>{try{const t=await fetch("http://localhost:8080/FlightApp/Flight/GetAllDestinations",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Network response was not ok");const a=await t.json();F(a)}catch(e){console.error("There was a problem with the fetch operation:",e)}},oe=()=>{c(!1),u(""),p(""),S("")};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"header"},l.a.createElement("h2",{className:"title"},"Flight Booker"),d&&l.a.createElement("div",{className:"user-info"},l.a.createElement("span",null,"Logged in as ",d),l.a.createElement("button",{onClick:()=>{E(null),t(null),c(!1),u(""),p(""),g(!1),T(""),L(0),ae(!1)}},"Log out"))),l.a.createElement("div",{className:"main text-center mt-5"},!d&&null===e&&l.a.createElement("div",{className:"d-grid gap-2 col-6 mx-auto"},l.a.createElement("h4",null,"Continue As"),l.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:()=>ce("member")},"Member"),l.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:()=>ce("guest")},"Guest"),l.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:()=>ce("cancel ticket")},"Cancel Ticket"),l.a.createElement("a",{href:"#",className:"underlined-text",onClick:()=>ce("Third Option")},"Don't have an account? Sign up here")),"signup"===e&&l.a.createElement("div",{className:"signup-form"},l.a.createElement("h2",null,"Sign Up"),l.a.createElement("form",{onSubmit:e=>{if(e.preventDefault(),!le.test(B))return void U("Please enter a valid email address.");const a={name:M,emailAddr:B,phoneNum:J,customerPassword:V};console.log("Signup Data:",a),fetch("http://localhost:8080/FlightApp/Customer/Create/".concat($,"/").concat(K,"/").concat(W,"/").concat(Z),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),q(""),Y(""),H(""),_(""),z(""),Q(""),X(""),ee(""),t(null)}},l.a.createElement("label",{htmlFor:"signup-username"},"First and Last Name"),l.a.createElement("input",{type:"text",id:"signup-username",value:M,onChange:e=>q(e.target.value),required:!0}),l.a.createElement("label",{htmlFor:"signup-email"},"Email"),l.a.createElement("input",{type:"email",id:"signup-email",value:B,onChange:e=>{Y(e.target.value),U("")},required:!0}),R&&l.a.createElement("p",{style:{color:"red"}},R),l.a.createElement("label",{htmlFor:"signup-phone"},"Phone Number"),l.a.createElement("input",{type:"tel",id:"signup-phone",value:J,onChange:e=>H(e.target.value),required:!0}),l.a.createElement("label",{htmlFor:"signup-password"},"Password"),l.a.createElement("input",{type:"password",id:"signup-password",value:V,onChange:e=>_(e.target.value),required:!0}),l.a.createElement("label",{htmlFor:"signup-address"},"Address"),l.a.createElement("input",{type:"text",id:"signup-address",value:$,onChange:e=>z(e.target.value),required:!0}),l.a.createElement("label",{htmlFor:"signup-postal-code"},"Postal Code"),l.a.createElement("input",{type:"text",id:"signup-postal-code",value:K,onChange:e=>Q(e.target.value),required:!0}),l.a.createElement("label",{htmlFor:"signup-city"},"City"),l.a.createElement("input",{type:"text",id:"signup-city",value:W,onChange:e=>X(e.target.value),required:!0}),l.a.createElement("label",{htmlFor:"signup-country"},"Country"),l.a.createElement("input",{type:"text",id:"signup-country",value:Z,onChange:e=>ee(e.target.value),required:!0}),l.a.createElement("button",{type:"submit"},"Sign Up"))),d&&!h&&"cancel ticket"!==e&&"purchase ticket"!==e?l.a.createElement("div",{className:"ticket-options"},l.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:()=>ce("purchase ticket")},"Purchase Ticket")):null,a&&("member"===e||"Member"===e)&&l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("span",{className:"close",onClick:oe},"\xd7"),l.a.createElement("h2",null,"Member Login"),l.a.createElement("form",null,l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{type:"text",id:"username",value:r,onChange:e=>u(e.target.value)}),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",value:m,onChange:e=>p(e.target.value)}),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("label",{className:"input-group-text",htmlFor:"inputGroupSelect01"},"Login as"),l.a.createElement("select",{className:"form-select",id:"inputGroupSelect01",onChange:e=>S(e.target.value)},l.a.createElement("option",{selected:!0},"Choose..."),l.a.createElement("option",{value:"Customer"},"Customer"),l.a.createElement("option",{value:"Travel Agent"},"Travel Agent"),l.a.createElement("option",{value:"Crew"},"Crew"),l.a.createElement("option",{value:"System Admin"},"System Admin"))),l.a.createElement("button",{type:"button",onClick:()=>{console.log("Username:",r),console.log("Password:",m),console.log("Role:",y),E(r),oe()}},"Login")))),"cancel ticket"===e&&l.a.createElement("div",{className:"ticket-id-input"},l.a.createElement("label",{htmlFor:"ticketId"},"Enter your ticket ID"),l.a.createElement("input",{type:"text",id:"ticketId",value:b,onChange:e=>v(e.target.value)}),l.a.createElement("button",{onClick:()=>t(null)},"Go back")),h&&l.a.createElement("div",{className:"ticket-purchase-form"},l.a.createElement("h4",null,"Purchase Ticket"),l.a.createElement("form",null,l.a.createElement("label",{htmlFor:"destination"},"Destination"),l.a.createElement("select",{className:"form-select",id:"inputGroupSelect01",value:x,onChange:e=>T(e.target.value)},l.a.createElement("option",{value:""},"Choose..."),ne.map((e,t)=>l.a.createElement("option",{key:t,value:e},e))),l.a.createElement("button",{type:"button",onClick:()=>{console.log("Destination:",x),(async()=>{console.log(x);const e=await fetch("http://localhost:8080/FlightApp/Flight/GetAllFlightsByDestination/".concat(x),{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();D(t),console.log(t)})(),g(!1),I(!0)}},"Next"))),A&&l.a.createElement("div",null,l.a.createElement("h2",null,"Select a Flight"),P.length>0?l.a.createElement("div",null,P.map((e,t)=>l.a.createElement("div",{key:t},l.a.createElement("p",null,"Flight: ",e.flight_id,": ",e.departureCity," ",e.departureCountry," ",e.departureAirport),l.a.createElement("p",null,"Departure: ",e.departureDate," ",e.departureTime," - Arrival: ",e.arrivalDate," ",e.arrivalTime),l.a.createElement("button",{onClick:()=>{L(e.flight_id),(e=>{console.log("Selected flight:",e),I(!1),f(!0)})(e)}},"Select this Flight")))):l.a.createElement("p",null,"No flights available for the selected destination.")),C&&!h&&"purchase ticket"===e&&l.a.createElement(o,{onSeatSelect:(e,t,a,n)=>{n&&(f(!1),j(!0),console.log("BEFORE INS CHOSEN:",te))},flightID:G}),O&&l.a.createElement(s,{onInsuranceSubmit:()=>{j(!1),N(!0),console.log("AFTER INS CHOSEN:",te)},setInsurance:ae}),k&&l.a.createElement(i,{onPaymentSubmit:e=>{console.log("Payment Details:",e)}})))};var m=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,18)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:c,getTTFB:r}=t;a(e),n(e),l(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(u,null))),m()}],[[3,1,2]]]);
//# sourceMappingURL=main.213cfb5c.chunk.js.map